:root {
  /* =============================================
     ADHD Research Navigator — Design Tokens
     Aesthetic: "Confident Analytical"
     ============================================= */

  /* Typography — Inter */
  --font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

  /* Type Scale (8 levels) */
  --type-display: 28px;
  --type-title: 20px;
  --type-heading: 16px;
  --type-body: 15px;
  --type-body-small: 13px;
  --type-label: 14px;
  --type-caption: 12px;
  --type-micro: 10px;

  --weight-regular: 400;
  --weight-medium: 500;
  --weight-semibold: 600;

  --line-height-tight: 1.15;
  --line-height-heading: 1.25;
  --line-height-body: 1.5;

  /* ---- PALETTE A: Chrome (Structural UI) ---- */
  --chrome-bg-canvas: #FAFAF9;
  --chrome-bg-surface: #FFFFFF;
  --chrome-bg-surface-2: #F5F5F4;
  --chrome-bg-surface-3: #E7E5E4;
  --chrome-bg-hover: #F5F5F4;

  --chrome-border-subtle: #E7E5E4;
  --chrome-border-default: #D6D3D1;
  --chrome-border-strong: #A8A29E;

  --chrome-text-heading: #1C1917;
  --chrome-text-primary: #292524;
  --chrome-text-secondary: #57534E;
  --chrome-text-tertiary: #78716C;
  --chrome-text-disabled: #A8A29E;
  --chrome-text-inverse: #FAFAF9;

  /* ---- PALETTE B: Data Encoding ---- */
  /* Sequential: Evidence Tiers (blue ramp) */
  --data-tier-1: #1E3A5F;
  --data-tier-2: #2C5282;
  --data-tier-3: #4A7BA7;
  --data-tier-4: #7FA3C3;
  --data-no-data: #D6D3D1;

  /* Diverging: Compatibility (S/P/X) */
  --data-compat-s: #10B981;
  --data-compat-p: #F59E0B;
  --data-compat-x: #DC2626;

  /* Diverging: Vulnerability (H/M/L) */
  --data-vuln-h: #7C2D12;
  --data-vuln-m: #EA580C;
  --data-vuln-l: #FED7AA;

  /* Categorical: Mechanisms */
  --data-mech-1: #8B5CF6;
  --data-mech-2: #EC4899;
  --data-mech-3: #10B981;
  --data-mech-4: #F59E0B;
  --data-mech-5: #3B82F6;
  --data-mech-6: #6366F1;

  /* ---- PALETTE C: Semantic (UI Feedback) ---- */
  --semantic-success: #059669;
  --semantic-success-tint: #D1FAE5;
  --semantic-warning: #D97706;
  --semantic-warning-tint: #FEF3C7;
  --semantic-error: #DC2626;
  --semantic-error-tint: #FEE2E2;
  --semantic-info: #2563EB;
  --semantic-info-tint: #DBEAFE;

  /* ---- PALETTE D: Interactive States ---- */
  --interactive-focus: #2563EB;
  --interactive-focus-ring: 2px solid #2563EB;
  --interactive-selection: #2563EB;
  --interactive-hover-overlay: rgba(0,0,0,0.04);

  /* ---- Node Type Colors (default fills, muted) ---- */
  --node-problem-fill: #F3EFF8;
  --node-problem-stroke: #D0C4E0;
  --node-model-fill: #EDF2F8;
  --node-model-stroke: #B8CCE0;
  --node-mechanism-fill: #EDF7F7;
  --node-mechanism-stroke: #A8D4D4;
  --node-meta-challenge-fill: #FDF0EF;
  --node-meta-challenge-stroke: #E0A8A4;
  --node-foundation-fill: #EEF6F1;
  --node-foundation-stroke: #A4CDB8;
  --node-implication-fill: #FBF7EE;
  --node-implication-stroke: #D4C89C;

  /* Spacing */
  --space-2: 2px;
  --space-4: 4px;
  --space-8: 8px;
  --space-12: 12px;
  --space-16: 16px;
  --space-24: 24px;
  --space-32: 32px;

  /* Radii */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  /* Elevation */
  --shadow-1: 0 1px 3px rgba(0,0,0,0.04);
  --shadow-2: 0 4px 12px rgba(0,0,0,0.08);
  --shadow-3: 0 8px 24px rgba(0,0,0,0.12);

  /* Layout */
  --detail-panel-width: 400px;
  --question-bar-height: 56px;
  --tooltip-max-width: 350px;
  --legend-height: 48px;

  /* Transitions */
  --transition-fast: 150ms ease-out;
  --transition-normal: 300ms ease-out;
  --transition-slow: 500ms ease-out;
  --transition-spring: 300ms cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Z-index */
  --z-canvas: 1;
  --z-tooltip: 100;
  --z-detail-panel: 200;
  --z-question-bar: 300;
  --z-legend: 300;
  --z-search: 400;

  /* Ghost/dim states */
  --ghost-opacity: 0.15;
  --ghost-opacity-readable: 0.3;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: var(--font-family);
  font-size: var(--type-body-small);
  font-weight: var(--weight-regular);
  line-height: var(--line-height-body);
  color: var(--chrome-text-primary);
  background: var(--chrome-bg-canvas);
  overflow: hidden;
  height: 100vh;
  width: 100vw;
}

#app {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
}

#question-bar {
  height: var(--question-bar-height);
  border-bottom: 1px solid var(--chrome-border-default);
  background: var(--chrome-bg-surface);
  z-index: var(--z-question-bar);
  flex-shrink: 0;
}

#main-area {
  display: flex;
  flex: 1;
  overflow: hidden;
  position: relative;
}

#canvas-container {
  flex: 1;
  position: relative;
  overflow: hidden;
  z-index: var(--z-canvas);
  background: var(--chrome-bg-canvas);
}

#detail-panel {
  width: var(--detail-panel-width);
  border-left: 1px solid var(--chrome-border-default);
  background: var(--chrome-bg-surface);
  z-index: var(--z-detail-panel);
  overflow-y: auto;
  flex-shrink: 0;
  transition: width var(--transition-normal), margin-right var(--transition-normal);
}

#detail-panel.hidden {
  width: 0;
  border-left: none;
  overflow: hidden;
}

#legend {
  height: var(--legend-height);
  border-top: 1px solid var(--chrome-border-default);
  background: var(--chrome-bg-surface-2);
  z-index: var(--z-legend);
  flex-shrink: 0;
}

#legend.hidden {
  display: none;
}

#search-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: var(--z-search);
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding-top: 20vh;
  backdrop-filter: blur(4px);
}

#search-overlay.hidden {
  display: none;
}

#mode-indicator {
  position: absolute;
  top: var(--space-8);
  left: var(--space-8);
  z-index: 10;
  font-size: var(--type-micro);
  color: var(--chrome-text-secondary);
  pointer-events: none;
}

.hidden {
  display: none;
}
